var z=Object.defineProperty,R=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var S=(r,t,a)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,p=(r,t)=>{for(var a in t||(t={}))q.call(t,a)&&S(r,a,t[a]);if(w)for(var a of w(t))M.call(t,a)&&S(r,a,t[a]);return r},T=(r,t)=>R(r,W(t));import{x as _,j as e,X as c,h as j,m as G,a as s,G as o,F as g,T as b,u as F,_ as $,l as v,E as H,N as Q,S as k,z as h,b as f,H as K,O as X,t as E,W as A,c as Z,d as J,e as V,f as y,g as m,A as Y,i as I,k as ee,n as re,y as te,o as O,p as se,q as ne,r as B,s as D,B as ae,v as ie,w as x,C as U,D as le,I as oe,J as ce,K as de,L as ue,M as me,P as he,Q as L,R as fe,U as ge,V as be,Y as C,Z as d,$ as pe,a0 as ye,a1 as _e,a2 as ve,a3 as xe,a4 as ke,a5 as Ce,a6 as P,a7 as we,a8 as Se}from"./vendor.00cfd622.js";const Te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}};Te();const Fe=r=>{const t=_();return t?e(c,{options:r.options,record:{data:r.render(t)},source:"data"}):null},Oe=()=>{const r=_();return s("span",{children:["Order ",r?r.reference:""]})},De=()=>s(g,{children:[e(b,{variant:"h6",children:"Order"}),s(o,{container:!0,spacing:2,alignItems:"center",children:[e(o,{item:!0,xs:6,children:e(F,{label:"Date",children:e($,{source:"date"})})}),e(o,{item:!0,xs:6,children:e(F,{label:"Reference",children:e(v,{source:"reference"})})}),e(o,{item:!0,xs:6,children:e(H,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(o,{item:!0,xs:6,children:e(Q,{label:"Returned",source:"returned"})})]})]}),Le=()=>s(g,{children:[e(b,{variant:"h6",children:"Customer"}),s(k,{children:[e(h,{source:"customer_id",reference:"customers",children:e(f,{render:r=>`${r.first_name} ${r.last_name}`})}),e(h,{source:"customer_id",reference:"customers",children:e(K,{source:"email"})})]})]}),Pe=()=>s(g,{children:[e(b,{variant:"h6",children:"Shipping Address"}),e(h,{source:"customer_id",reference:"customers",link:!1,children:s(k,{children:[e(f,{render:r=>`${r.first_name} ${r.last_name}`}),e(v,{source:"address"}),e(f,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),$e=()=>{const r=_();return r?e(h,{source:"product_id",reference:"products",link:!1,children:e(Fe,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},Ee=()=>s(g,{children:[e(b,{variant:"h6",children:"Items"}),e(X,{source:"basket",children:s(E,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(h,{source:"product_id",reference:"products",label:"Reference",children:e(v,{source:"reference"})}),e(h,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(c,{source:"price",options:{style:"currency",currency:"USD"}})}),e(c,{label:"Quantity",source:"quantity"}),e(A,{label:"Total",textAlign:"right",children:e($e,{})})]})})]}),Ae=()=>s(g,{children:[e(b,{variant:"h6",children:"Totals"}),e(Z,{children:e(J,{children:s(V,{children:[s(y,{children:[e(m,{component:"th",scope:"row",children:"Sum"}),e(m,{align:"right",children:e(c,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(y,{children:[e(m,{component:"th",scope:"row",children:"Delivery"}),e(m,{align:"right",children:e(c,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(y,{children:[e(m,{component:"th",scope:"row",children:e(f,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(m,{align:"right",children:e(c,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(y,{children:[e(m,{sx:{fontWeight:"bold"},children:"Total"}),e(m,{align:"right",sx:{fontWeight:"bold"},children:e(c,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),Ie=()=>e(j,{resource:"commands",title:e(Oe,{}),children:e(G,{children:s(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:8,children:e(De,{})}),s(o,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(o,{item:!0,children:e(Le,{})}),e(o,{item:!0,children:e(Pe,{})})]}),e(o,{item:!0,xs:12,children:e(Ee,{})}),e(o,{item:!0,xs:12,children:e(Ae,{})})]})})});function Be(){const r=_();return r?s(k,{direction:"row",spacing:2,children:[e(Y,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(b,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const Ue=[e(ee,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(re,{source:"customer_id",label:"Customer",reference:"customers",children:e(te,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(O,{label:"Passed Since",source:"date_gte"}),e(O,{label:"Passed Before",source:"date_lte"}),e(se,{label:"Min amount",source:"total_gte"}),e(ne,{label:"Returned",source:"returned"})],Ne=()=>{const{filterValues:r,setFilters:t,displayedFilters:a}=B(),l=D.exports.useCallback((i,u)=>{const N=T(p({},r),{status:u});t(N,a)},[r,t,a]),n=D.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(g,{children:[e(ae,{sx:{borderBottom:1,borderColor:"divider"},children:s(ie,{value:n(),onChange:l,variant:"fullWidth",children:[e(x,{label:"Ordered",value:"ordered"}),e(x,{label:"Delivered",value:"delivered"}),e(x,{label:"Cancelled",value:"cancelled"})]})}),s(E,{rowClick:"edit",children:[e($,{source:"date",showTime:!0}),e(v,{source:"reference"}),e(h,{source:"customer_id",reference:"customers",children:e(Be,{})}),e(h,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(f,{render:i=>[i.address,i.city,i.zipcode].join(", ")})}),e(f,{label:"Nb items",render:i=>{var u;return`${(u=i.basket)==null?void 0:u.length}`},textAlign:"right"}),e(c,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},ze=()=>e(I,{title:"Orders",filters:Ue,children:e(Ne,{})});var Re={list:ze,edit:Ie,options:{label:"Orders"},icon:U};function We(r){return!r||!r.length?r:r[0].toUpperCase()+r.slice(1)}const qe=()=>e(le,{rowsPerPageOptions:[12,24,48]}),Me=()=>s(oe,{children:[e(ce,{fields:["reference","sales","stock"]}),e(de,{})]}),je=()=>s(C,{label:"Sales",icon:e(U,{}),children:[e(d,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(d,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(d,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(d,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),Ge=()=>s(C,{label:"Stock",icon:e(pe,{}),children:[e(d,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(d,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(d,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(d,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),He=()=>{const{data:r}=ye("categories");return r?e(C,{label:"Categories",icon:e(_e,{}),children:r.sort((t,a)=>t.name.localeCompare(a.name)).map(t=>e(d,{label:We(t.name),value:{category_id:t.id}},t.id))}):null},Qe=()=>e(ue,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:s(me,{children:[e(he,{source:"q"}),e(je,{}),e(Ge,{}),e(He,{})]})}),Ke=()=>{const{data:r}=B(),t=L(l=>l.breakpoints.down("md")),a=L(l=>l.breakpoints.down("lg"));return r?e(fe,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:t?3:a?4:6,children:r.map(l=>s(ge,{children:[e("img",{src:l.thumbnail,alt:l.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(be,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:l.reference,subtitle:s(A,{children:[e(f,{record:l,render:n=>`${n.width}x${n.height}, `}),e(c,{record:l,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]},l.id))}):null},Xe=()=>e(I,{title:"Posters",pagination:e(qe,{}),actions:e(Me,{}),aside:e(Qe,{}),children:e(Ke,{})});var Ze={list:Xe,options:{label:"Posters"},icon:ve};const Je=xe(ke({serializeDate:!0}),!0);function Ve(){return s(Ce,{dataProvider:Je,children:[e(P,p({name:"products"},Ze)),e(P,p({name:"commands"},Re))]})}we.render(e(Se.StrictMode,{children:e(Ve,{})}),document.getElementById("root"));
