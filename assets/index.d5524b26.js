var B=Object.defineProperty,U=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var k=(r,n,a)=>n in r?B(r,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[n]=a,p=(r,n)=>{for(var a in n||(n={}))R.call(n,a)&&k(r,a,n[a]);if(T)for(var a of T(n))z.call(n,a)&&k(r,a,n[a]);return r},w=(r,n)=>U(r,N(n));import{x as y,j as e,X as o,h as M,m as W,a as s,G as c,F as f,T as g,u as D,_ as P,l as x,E as j,N as q,S as C,z as u,b as m,H as G,O as H,t as L,W as E,c as Q,d as K,e as X,f as b,g as d,A as J,i as $,k as V,n as Y,y as Z,o as S,p as ee,q as re,r as I,s as F,B as te,v as ne,w as _,C as se,D as ie,I as v,J as ae,K as ce,L as oe,M as le,P as de,Q as ue,R as me,U as O,V as he,Y as fe}from"./vendor.84f28542.js";const ge=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function a(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function h(t){if(t.ep)return;t.ep=!0;const i=a(t);fetch(t.href,i)}};ge();const pe=r=>{const n=y();return n?e(o,{options:r.options,record:{data:r.render(n)},source:"data"}):null},be=()=>{const r=y();return s("span",{children:["Order ",r?r.reference:""]})},ye=()=>s(f,{children:[e(g,{variant:"h6",children:"Order"}),s(c,{container:!0,spacing:2,alignItems:"center",children:[e(c,{item:!0,xs:6,children:e(D,{label:"Date",children:e(P,{source:"date"})})}),e(c,{item:!0,xs:6,children:e(D,{label:"Reference",children:e(x,{source:"reference"})})}),e(c,{item:!0,xs:6,children:e(j,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(c,{item:!0,xs:6,children:e(q,{label:"Returned",source:"returned"})})]})]}),xe=()=>s(f,{children:[e(g,{variant:"h6",children:"Customer"}),s(C,{children:[e(u,{source:"customer_id",reference:"customers",children:e(m,{render:r=>`${r.first_name} ${r.last_name}`})}),e(u,{source:"customer_id",reference:"customers",children:e(G,{source:"email"})})]})]}),_e=()=>s(f,{children:[e(g,{variant:"h6",children:"Shipping Address"}),e(u,{source:"customer_id",reference:"customers",link:!1,children:s(C,{children:[e(m,{render:r=>`${r.first_name} ${r.last_name}`}),e(x,{source:"address"}),e(m,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),ve=()=>{const r=y();return r?e(u,{source:"product_id",reference:"products",link:!1,children:e(pe,{render:n=>n.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},Ce=()=>s(f,{children:[e(g,{variant:"h6",children:"Items"}),e(H,{source:"basket",children:s(L,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(u,{source:"product_id",reference:"products",label:"Reference",children:e(x,{source:"reference"})}),e(u,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(o,{source:"price",options:{style:"currency",currency:"USD"}})}),e(o,{label:"Quantity",source:"quantity"}),e(E,{label:"Total",textAlign:"right",children:e(ve,{})})]})})]}),Te=()=>s(f,{children:[e(g,{variant:"h6",children:"Totals"}),e(Q,{children:e(K,{children:s(X,{children:[s(b,{children:[e(d,{component:"th",scope:"row",children:"Sum"}),e(d,{align:"right",children:e(o,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(b,{children:[e(d,{component:"th",scope:"row",children:"Delivery"}),e(d,{align:"right",children:e(o,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(b,{children:[e(d,{component:"th",scope:"row",children:e(m,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(d,{align:"right",children:e(o,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(b,{children:[e(d,{sx:{fontWeight:"bold"},children:"Total"}),e(d,{align:"right",sx:{fontWeight:"bold"},children:e(o,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),ke=()=>e(M,{resource:"commands",title:e(be,{}),children:e(W,{children:s(c,{container:!0,spacing:2,children:[e(c,{item:!0,xs:8,children:e(ye,{})}),s(c,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(c,{item:!0,children:e(xe,{})}),e(c,{item:!0,children:e(_e,{})})]}),e(c,{item:!0,xs:12,children:e(Ce,{})}),e(c,{item:!0,xs:12,children:e(Te,{})})]})})});function we(){const r=y();return r?s(C,{direction:"row",spacing:2,children:[e(J,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(g,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const De=[e(V,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(Y,{source:"customer_id",label:"Customer",reference:"customers",children:e(Z,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(S,{label:"Passed Since",source:"date_gte"}),e(S,{label:"Passed Before",source:"date_lte"}),e(ee,{label:"Min amount",source:"total_gte"}),e(re,{label:"Returned",source:"returned"})],Se=()=>{const{filterValues:r,setFilters:n,displayedFilters:a}=I(),h=F.exports.useCallback((i,l)=>{const A=w(p({},r),{status:l});n(A,a)},[r,n,a]),t=F.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(f,{children:[e(te,{sx:{borderBottom:1,borderColor:"divider"},children:s(ne,{value:t(),onChange:h,variant:"fullWidth",children:[e(_,{label:"Ordered",value:"ordered"}),e(_,{label:"Delivered",value:"delivered"}),e(_,{label:"Cancelled",value:"cancelled"})]})}),s(L,{rowClick:"edit",children:[e(P,{source:"date",showTime:!0}),e(x,{source:"reference"}),e(u,{source:"customer_id",reference:"customers",children:e(we,{})}),e(u,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(m,{render:i=>[i.address,i.city,i.zipcode].join(", ")})}),e(m,{label:"Nb items",render:i=>{var l;return`${(l=i.basket)==null?void 0:l.length}`},textAlign:"right"}),e(o,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},Fe=()=>e($,{title:"Orders",filters:De,children:e(Se,{})});var Oe={list:Fe,edit:ke,options:{label:"Orders"},icon:se};const Pe=()=>e(ie,{rowsPerPageOptions:[12,24,48]}),Le=()=>{const{data:r}=I(),n=v(t=>t.breakpoints.down("sm")),a=v(t=>t.breakpoints.down("md")),h=v(t=>t.breakpoints.down("lg"));return r?e(ae,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:n?3:a?4:h?6:8,children:r.map(t=>s(ce,{children:[e("img",{src:t.thumbnail,alt:t.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(oe,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:t.reference,subtitle:s(E,{children:[e(m,{record:t,render:i=>`${i.width}x${i.height}, `}),e(o,{record:t,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]},t.id))}):null},Ee=()=>e($,{title:"Posters",pagination:e(Pe,{}),children:e(Le,{})});var $e={list:Ee,options:{label:"Posters"},icon:le};const Ie=de(ue({serializeDate:!0}),!0);function Ae(){return s(me,{dataProvider:Ie,children:[e(O,p({name:"products"},$e)),e(O,p({name:"commands"},Oe))]})}he.render(e(fe.StrictMode,{children:e(Ae,{})}),document.getElementById("root"));
