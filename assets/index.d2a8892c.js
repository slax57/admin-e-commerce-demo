var Z=Object.defineProperty,J=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var D=(r,t,n)=>t in r?Z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,_=(r,t)=>{for(var n in t||(t={}))Y.call(t,n)&&D(r,n,t[n]);if(A)for(var n of A(t))ee.call(t,n)&&D(r,n,t[n]);return r},E=(r,t)=>J(r,V(t));import{x as f,j as e,X as d,h as z,m as re,a as s,G as o,F as b,T as v,u as I,_ as N,l as w,E as R,N as te,S as P,z as g,b as p,H as se,O as ae,t as W,W as M,c as ne,d as ie,e as le,f as x,g as h,A as oe,i as q,k as C,n as ce,y as de,o as L,p as y,q as ue,r as j,s as B,B as G,v as me,w as T,C as H,D as he,I as ge,J as pe,K as fe,L as Q,M as be,P as ve,Q as U,R as ye,U as _e,V as xe,Y as ke,Z as $,$ as u,a0 as Ce,a1 as K,a2 as we,a3 as Pe,a4 as F,a5 as Te,a6 as c,a7 as S,a8 as k,a9 as Fe,aa as Se,ab as Oe,ac as $e,ad as Ae,ae as O,af as De,ag as Ee}from"./vendor.4835e2ad.js";const Ie=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};Ie();const Le=r=>{const t=f();return t?e(d,{options:r.options,record:{data:r.render(t)},source:"data"}):null},Be=()=>{const r=f();return s("span",{children:["Order ",r?r.reference:""]})},Ue=()=>s(b,{children:[e(v,{variant:"h6",children:"Order"}),s(o,{container:!0,spacing:2,alignItems:"center",children:[e(o,{item:!0,xs:6,children:e(I,{label:"Date",children:e(N,{source:"date"})})}),e(o,{item:!0,xs:6,children:e(I,{label:"Reference",children:e(w,{source:"reference"})})}),e(o,{item:!0,xs:6,children:e(R,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(o,{item:!0,xs:6,children:e(te,{label:"Returned",source:"returned"})})]})]}),ze=()=>s(b,{children:[e(v,{variant:"h6",children:"Customer"}),s(P,{children:[e(g,{source:"customer_id",reference:"customers",children:e(p,{render:r=>`${r.first_name} ${r.last_name}`})}),e(g,{source:"customer_id",reference:"customers",children:e(se,{source:"email"})})]})]}),Ne=()=>s(b,{children:[e(v,{variant:"h6",children:"Shipping Address"}),e(g,{source:"customer_id",reference:"customers",link:!1,children:s(P,{children:[e(p,{render:r=>`${r.first_name} ${r.last_name}`}),e(w,{source:"address"}),e(p,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),Re=()=>{const r=f();return r?e(g,{source:"product_id",reference:"products",link:!1,children:e(Le,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},We=()=>s(b,{children:[e(v,{variant:"h6",children:"Items"}),e(ae,{source:"basket",children:s(W,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(g,{source:"product_id",reference:"products",label:"Reference",children:e(w,{source:"reference"})}),e(g,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(d,{source:"price",options:{style:"currency",currency:"USD"}})}),e(d,{label:"Quantity",source:"quantity"}),e(M,{label:"Total",textAlign:"right",children:e(Re,{})})]})})]}),Me=()=>s(b,{children:[e(v,{variant:"h6",children:"Totals"}),e(ne,{children:e(ie,{children:s(le,{children:[s(x,{children:[e(h,{component:"th",scope:"row",children:"Sum"}),e(h,{align:"right",children:e(d,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(x,{children:[e(h,{component:"th",scope:"row",children:"Delivery"}),e(h,{align:"right",children:e(d,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(x,{children:[e(h,{component:"th",scope:"row",children:e(p,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(h,{align:"right",children:e(d,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(x,{children:[e(h,{sx:{fontWeight:"bold"},children:"Total"}),e(h,{align:"right",sx:{fontWeight:"bold"},children:e(d,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),qe=()=>e(z,{resource:"commands",title:e(Be,{}),children:e(re,{children:s(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:8,children:e(Ue,{})}),s(o,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(o,{item:!0,children:e(ze,{})}),e(o,{item:!0,children:e(Ne,{})})]}),e(o,{item:!0,xs:12,children:e(We,{})}),e(o,{item:!0,xs:12,children:e(Me,{})})]})})});function je(){const r=f();return r?s(P,{direction:"row",spacing:2,children:[e(oe,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(v,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const Ge=[e(C,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(ce,{source:"customer_id",label:"Customer",reference:"customers",children:e(de,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(L,{label:"Passed Since",source:"date_gte"}),e(L,{label:"Passed Before",source:"date_lte"}),e(y,{label:"Min amount",source:"total_gte"}),e(ue,{label:"Returned",source:"returned"})],He=()=>{const{filterValues:r,setFilters:t,displayedFilters:n}=j(),l=B.exports.useCallback((i,m)=>{const X=E(_({},r),{status:m});t(X,n)},[r,t,n]),a=B.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(b,{children:[e(G,{sx:{borderBottom:1,borderColor:"divider"},children:s(me,{value:a(),onChange:l,variant:"fullWidth",children:[e(T,{label:"Ordered",value:"ordered"}),e(T,{label:"Delivered",value:"delivered"}),e(T,{label:"Cancelled",value:"cancelled"})]})}),s(W,{rowClick:"edit",children:[e(N,{source:"date",showTime:!0}),e(w,{source:"reference"}),e(g,{source:"customer_id",reference:"customers",children:e(je,{})}),e(g,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(p,{render:i=>[i.address,i.city,i.zipcode].join(", ")})}),e(p,{label:"Nb items",render:i=>{var m;return`${(m=i.basket)==null?void 0:m.length}`},textAlign:"right"}),e(d,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},Qe=()=>e(q,{title:"Orders",filters:Ge,children:e(He,{})});var Ke={list:Qe,edit:qe,options:{label:"Orders"},icon:H};function Xe(r){return!r||!r.length?r:r[0].toUpperCase()+r.slice(1)}const Ze=()=>e(he,{rowsPerPageOptions:[12,24,48]}),Je=()=>s(ge,{children:[e(pe,{fields:["reference","sales","stock"]}),e(fe,{})]}),Ve=()=>s($,{label:"Sales",icon:e(H,{}),children:[e(u,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(u,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(u,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(u,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),Ye=()=>s($,{label:"Stock",icon:e(Ce,{}),children:[e(u,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(u,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(u,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(u,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),er=()=>{const{data:r}=K("categories");return r?e($,{label:"Categories",icon:e(we,{}),children:r.sort((t,n)=>t.name.localeCompare(n.name)).map(t=>e(u,{label:Xe(t.name),value:{category_id:t.id}},t.id))}):null},rr=()=>e(Q,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:s(be,{children:[e(ve,{source:"q"}),e(Ve,{}),e(Ye,{}),e(er,{})]})}),tr=()=>{const{data:r}=j(),t=U(l=>l.breakpoints.down("md")),n=U(l=>l.breakpoints.down("lg"));return r?e(ye,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:t?3:n?4:6,children:r.map(l=>e(_e,{to:`/products/${l.id}`,children:s(xe,{children:[e("img",{src:l.thumbnail,alt:l.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(ke,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:l.reference,subtitle:s(M,{children:[e(p,{record:l,render:a=>`${a.width}x${a.height}, `}),e(d,{record:l,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]})},l.id))}):null},sr=()=>e(q,{title:"Posters",pagination:e(Ze,{}),actions:e(Je,{}),aside:e(rr,{}),children:e(tr,{})}),ar=()=>{const r=f();return s("span",{children:["Poster #",r?r.reference:""]})},nr=()=>{const r=f(),{data:t}=K("categories");return s(Pe,{children:[s(F,{label:"image",children:[e(Q,{sx:{mb:2},children:e(Te,{component:"img",height:"240",image:r.image,alt:r.reference})}),e(C,{source:"image",validate:c(),sx:{width:"40em"}}),e(C,{source:"thumbnail",validate:c(),sx:{width:"40em"}})]}),s(F,{label:"details",path:"details",children:[e(C,{source:"reference",validate:c(),sx:{width:"15em"}}),e(y,{source:"price",InputProps:{startAdornment:e(S,{position:"start",children:"$"})},validate:[c(),k()],sx:{width:"7em"}}),s(P,{direction:"row",children:[e(y,{source:"width",InputProps:{endAdornment:e(S,{position:"start",children:"cm"})},validate:[c(),k()],sx:{mr:2,width:"7em"}}),e(y,{source:"height",InputProps:{endAdornment:e(S,{position:"start",children:"cm"})},validate:[c(),k()],sx:{width:"7em"}})]}),e(R,{label:"category",source:"category_id",choices:t,validate:c(),sx:{width:"15em"}}),e(y,{source:"stock",validate:[c(),k()],sx:{width:"7em"}})]}),e(F,{label:"description",path:"description",children:e(G,{sx:{maxWidth:"640px"},children:e(Fe,{source:"description",validate:c(),label:!1})})})]})},ir=()=>e(z,{resource:"products",title:e(ar,{}),children:e(nr,{})});var lr={list:sr,edit:ir,options:{label:"Posters"},icon:Se};const or=Oe($e({serializeDate:!0}),!0);function cr(){return s(Ae,{dataProvider:or,children:[e(O,_({name:"products"},lr)),e(O,_({name:"commands"},Ke)),e(O,{name:"categories"})]})}De.render(e(Ee.StrictMode,{children:e(cr,{})}),document.getElementById("root"));
