var K=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var $=(r,t,n)=>t in r?K(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,_=(r,t)=>{for(var n in t||(t={}))J.call(t,n)&&$(r,n,t[n]);if(D)for(var n of D(t))V.call(t,n)&&$(r,n,t[n]);return r},E=(r,t)=>X(r,Z(t));import{x as b,j as e,X as d,h as U,m as Y,a as s,G as c,F as p,T as v,u as L,_ as z,l as w,E as N,N as ee,S as T,z as g,b as f,H as re,O as te,t as R,W as M,c as se,d as ae,e as ne,f as x,g as m,A as ie,i as W,k as C,n as le,y as ce,o as A,p as y,q as oe,r as q,s as I,B as de,v as ue,w as F,C as j,D as he,I as me,J as ge,K as fe,L as G,M as be,P as pe,Q as B,R as ve,U as ye,V as _e,Y as xe,Z as O,$ as u,a0 as ke,a1 as H,a2 as Ce,a3 as we,a4 as S,a5 as Te,a6 as o,a7 as k,a8 as Fe,a9 as Se,aa as Pe,ab as Oe,ac as De,ad as P,ae as $e,af as Ee}from"./vendor.c6fe8a8e.js";const Le=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};Le();const Ae=r=>{const t=b();return t?e(d,{options:r.options,record:{data:r.render(t)},source:"data"}):null},Ie=()=>{const r=b();return s("span",{children:["Order ",r?r.reference:""]})},Be=()=>s(p,{children:[e(v,{variant:"h6",children:"Order"}),s(c,{container:!0,spacing:2,alignItems:"center",children:[e(c,{item:!0,xs:6,children:e(L,{label:"Date",children:e(z,{source:"date"})})}),e(c,{item:!0,xs:6,children:e(L,{label:"Reference",children:e(w,{source:"reference"})})}),e(c,{item:!0,xs:6,children:e(N,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(c,{item:!0,xs:6,children:e(ee,{label:"Returned",source:"returned"})})]})]}),Ue=()=>s(p,{children:[e(v,{variant:"h6",children:"Customer"}),s(T,{children:[e(g,{source:"customer_id",reference:"customers",children:e(f,{render:r=>`${r.first_name} ${r.last_name}`})}),e(g,{source:"customer_id",reference:"customers",children:e(re,{source:"email"})})]})]}),ze=()=>s(p,{children:[e(v,{variant:"h6",children:"Shipping Address"}),e(g,{source:"customer_id",reference:"customers",link:!1,children:s(T,{children:[e(f,{render:r=>`${r.first_name} ${r.last_name}`}),e(w,{source:"address"}),e(f,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),Ne=()=>{const r=b();return r?e(g,{source:"product_id",reference:"products",link:!1,children:e(Ae,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},Re=()=>s(p,{children:[e(v,{variant:"h6",children:"Items"}),e(te,{source:"basket",children:s(R,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(g,{source:"product_id",reference:"products",label:"Reference",children:e(w,{source:"reference"})}),e(g,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(d,{source:"price",options:{style:"currency",currency:"USD"}})}),e(d,{label:"Quantity",source:"quantity"}),e(M,{label:"Total",textAlign:"right",children:e(Ne,{})})]})})]}),Me=()=>s(p,{children:[e(v,{variant:"h6",children:"Totals"}),e(se,{children:e(ae,{children:s(ne,{children:[s(x,{children:[e(m,{component:"th",scope:"row",children:"Sum"}),e(m,{align:"right",children:e(d,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(x,{children:[e(m,{component:"th",scope:"row",children:"Delivery"}),e(m,{align:"right",children:e(d,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(x,{children:[e(m,{component:"th",scope:"row",children:e(f,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(m,{align:"right",children:e(d,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(x,{children:[e(m,{sx:{fontWeight:"bold"},children:"Total"}),e(m,{align:"right",sx:{fontWeight:"bold"},children:e(d,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),We=()=>e(U,{resource:"commands",title:e(Ie,{}),children:e(Y,{children:s(c,{container:!0,spacing:2,children:[e(c,{item:!0,xs:8,children:e(Be,{})}),s(c,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(c,{item:!0,children:e(Ue,{})}),e(c,{item:!0,children:e(ze,{})})]}),e(c,{item:!0,xs:12,children:e(Re,{})}),e(c,{item:!0,xs:12,children:e(Me,{})})]})})});function qe(){const r=b();return r?s(T,{direction:"row",spacing:2,children:[e(ie,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(v,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const je=[e(C,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(le,{source:"customer_id",label:"Customer",reference:"customers",children:e(ce,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(A,{label:"Passed Since",source:"date_gte"}),e(A,{label:"Passed Before",source:"date_lte"}),e(y,{label:"Min amount",source:"total_gte"}),e(oe,{label:"Returned",source:"returned"})],Ge=()=>{const{filterValues:r,setFilters:t,displayedFilters:n}=q(),l=I.exports.useCallback((i,h)=>{const Q=E(_({},r),{status:h});t(Q,n)},[r,t,n]),a=I.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(p,{children:[e(de,{sx:{borderBottom:1,borderColor:"divider"},children:s(ue,{value:a(),onChange:l,variant:"fullWidth",children:[e(F,{label:"Ordered",value:"ordered"}),e(F,{label:"Delivered",value:"delivered"}),e(F,{label:"Cancelled",value:"cancelled"})]})}),s(R,{rowClick:"edit",children:[e(z,{source:"date",showTime:!0}),e(w,{source:"reference"}),e(g,{source:"customer_id",reference:"customers",children:e(qe,{})}),e(g,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(f,{render:i=>[i.address,i.city,i.zipcode].join(", ")})}),e(f,{label:"Nb items",render:i=>{var h;return`${(h=i.basket)==null?void 0:h.length}`},textAlign:"right"}),e(d,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},He=()=>e(W,{title:"Orders",filters:je,children:e(Ge,{})});var Qe={list:He,edit:We,options:{label:"Orders"},icon:j};function Ke(r){return!r||!r.length?r:r[0].toUpperCase()+r.slice(1)}const Xe=()=>e(he,{rowsPerPageOptions:[12,24,48]}),Ze=()=>s(me,{children:[e(ge,{fields:["reference","sales","stock"]}),e(fe,{})]}),Je=()=>s(O,{label:"Sales",icon:e(j,{}),children:[e(u,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(u,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(u,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(u,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),Ve=()=>s(O,{label:"Stock",icon:e(ke,{}),children:[e(u,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(u,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(u,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(u,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),Ye=()=>{const{data:r}=H("categories");return r?e(O,{label:"Categories",icon:e(Ce,{}),children:r.sort((t,n)=>t.name.localeCompare(n.name)).map(t=>e(u,{label:Ke(t.name),value:{category_id:t.id}},t.id))}):null},er=()=>e(G,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:s(be,{children:[e(pe,{source:"q"}),e(Je,{}),e(Ve,{}),e(Ye,{})]})}),rr=()=>{const{data:r}=q(),t=B(l=>l.breakpoints.down("md")),n=B(l=>l.breakpoints.down("lg"));return r?e(ve,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:t?3:n?4:6,children:r.map(l=>e(ye,{to:`/products/${l.id}`,children:s(_e,{children:[e("img",{src:l.thumbnail,alt:l.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(xe,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:l.reference,subtitle:s(M,{children:[e(f,{record:l,render:a=>`${a.width}x${a.height}, `}),e(d,{record:l,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]})},l.id))}):null},tr=()=>e(W,{title:"Posters",pagination:e(Xe,{}),actions:e(Ze,{}),aside:e(er,{}),children:e(rr,{})}),sr=()=>{const r=b();return s("span",{children:["Poster #",r?r.reference:""]})},ar=()=>{const r=b(),{data:t}=H("categories");return s(we,{children:[s(S,{label:"image",children:[e(G,{sx:{mb:2},children:e(Te,{component:"img",height:"240",image:r.image,alt:r.reference})}),e(C,{source:"image",validate:o(),sx:{width:"40em"}}),e(C,{source:"thumbnail",validate:o(),sx:{width:"40em"}})]}),s(S,{label:"details",path:"details",children:[e(C,{source:"reference",validate:o(),sx:{width:"15em"}}),e(y,{source:"price",validate:[o(),k()],sx:{width:"7em"}}),s(T,{direction:"row",children:[e(y,{source:"width",validate:[o(),k()],sx:{mr:2,width:"7em"}}),e(y,{source:"height",validate:[o(),k()],sx:{width:"7em"}})]}),e(N,{label:"category",source:"category_id",choices:t,validate:o(),sx:{width:"15em"}}),e(y,{source:"stock",validate:[o(),k()],sx:{width:"7em"}})]}),e(S,{label:"description",path:"description",children:e(Fe,{source:"description",validate:o(),label:!1})})]})},nr=()=>e(U,{resource:"products",title:e(sr,{}),children:e(ar,{})});var ir={list:tr,edit:nr,options:{label:"Posters"},icon:Se};const lr=Pe(Oe({serializeDate:!0}),!0);function cr(){return s(De,{dataProvider:lr,children:[e(P,_({name:"products"},ir)),e(P,_({name:"commands"},Qe)),e(P,{name:"categories"})]})}$e.render(e(Ee.StrictMode,{children:e(cr,{})}),document.getElementById("root"));
