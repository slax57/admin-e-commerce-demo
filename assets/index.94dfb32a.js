var Q=Object.defineProperty,K=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var D=(r,t,n)=>t in r?Q(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,_=(r,t)=>{for(var n in t||(t={}))Z.call(t,n)&&D(r,n,t[n]);if(O)for(var n of O(t))J.call(t,n)&&D(r,n,t[n]);return r},E=(r,t)=>K(r,X(t));import{x as b,j as e,X as o,h as U,m as V,a as s,G as c,F as p,T as v,u as $,_ as z,l as w,E as Y,N as ee,S as T,z as g,b as f,H as re,O as te,t as N,W as R,c as se,d as ae,e as ne,f as x,g as h,A as ie,i as M,k as C,n as le,y as ce,o as L,p as y,q as oe,r as W,s as A,B as de,v as ue,w as F,C as q,D as he,I as me,J as ge,K as fe,L as j,M as be,P as pe,Q as I,R as ve,U as ye,V as _e,Y as xe,Z as P,$ as d,a0 as ke,a1 as G,a2 as Ce,a3 as we,a4 as S,a5 as Te,a6 as m,a7 as k,a8 as Fe,a9 as Se,aa as Pe,ab as Oe,ac as De,ad as Ee,ae as B,af as $e,ag as Le}from"./vendor.c546a217.js";const Ae=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}};Ae();const Ie=r=>{const t=b();return t?e(o,{options:r.options,record:{data:r.render(t)},source:"data"}):null},Be=()=>{const r=b();return s("span",{children:["Order ",r?r.reference:""]})},Ue=()=>s(p,{children:[e(v,{variant:"h6",children:"Order"}),s(c,{container:!0,spacing:2,alignItems:"center",children:[e(c,{item:!0,xs:6,children:e($,{label:"Date",children:e(z,{source:"date"})})}),e(c,{item:!0,xs:6,children:e($,{label:"Reference",children:e(w,{source:"reference"})})}),e(c,{item:!0,xs:6,children:e(Y,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(c,{item:!0,xs:6,children:e(ee,{label:"Returned",source:"returned"})})]})]}),ze=()=>s(p,{children:[e(v,{variant:"h6",children:"Customer"}),s(T,{children:[e(g,{source:"customer_id",reference:"customers",children:e(f,{render:r=>`${r.first_name} ${r.last_name}`})}),e(g,{source:"customer_id",reference:"customers",children:e(re,{source:"email"})})]})]}),Ne=()=>s(p,{children:[e(v,{variant:"h6",children:"Shipping Address"}),e(g,{source:"customer_id",reference:"customers",link:!1,children:s(T,{children:[e(f,{render:r=>`${r.first_name} ${r.last_name}`}),e(w,{source:"address"}),e(f,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),Re=()=>{const r=b();return r?e(g,{source:"product_id",reference:"products",link:!1,children:e(Ie,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},Me=()=>s(p,{children:[e(v,{variant:"h6",children:"Items"}),e(te,{source:"basket",children:s(N,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(g,{source:"product_id",reference:"products",label:"Reference",children:e(w,{source:"reference"})}),e(g,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(o,{source:"price",options:{style:"currency",currency:"USD"}})}),e(o,{label:"Quantity",source:"quantity"}),e(R,{label:"Total",textAlign:"right",children:e(Re,{})})]})})]}),We=()=>s(p,{children:[e(v,{variant:"h6",children:"Totals"}),e(se,{children:e(ae,{children:s(ne,{children:[s(x,{children:[e(h,{component:"th",scope:"row",children:"Sum"}),e(h,{align:"right",children:e(o,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(x,{children:[e(h,{component:"th",scope:"row",children:"Delivery"}),e(h,{align:"right",children:e(o,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(x,{children:[e(h,{component:"th",scope:"row",children:e(f,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(h,{align:"right",children:e(o,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(x,{children:[e(h,{sx:{fontWeight:"bold"},children:"Total"}),e(h,{align:"right",sx:{fontWeight:"bold"},children:e(o,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),qe=()=>e(U,{resource:"commands",title:e(Be,{}),children:e(V,{children:s(c,{container:!0,spacing:2,children:[e(c,{item:!0,xs:8,children:e(Ue,{})}),s(c,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(c,{item:!0,children:e(ze,{})}),e(c,{item:!0,children:e(Ne,{})})]}),e(c,{item:!0,xs:12,children:e(Me,{})}),e(c,{item:!0,xs:12,children:e(We,{})})]})})});function je(){const r=b();return r?s(T,{direction:"row",spacing:2,children:[e(ie,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(v,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const Ge=[e(C,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(le,{source:"customer_id",label:"Customer",reference:"customers",children:e(ce,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(L,{label:"Passed Since",source:"date_gte"}),e(L,{label:"Passed Before",source:"date_lte"}),e(y,{label:"Min amount",source:"total_gte"}),e(oe,{label:"Returned",source:"returned"})],He=()=>{const{filterValues:r,setFilters:t,displayedFilters:n}=W(),l=A.exports.useCallback((i,u)=>{const H=E(_({},r),{status:u});t(H,n)},[r,t,n]),a=A.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(p,{children:[e(de,{sx:{borderBottom:1,borderColor:"divider"},children:s(ue,{value:a(),onChange:l,variant:"fullWidth",children:[e(F,{label:"Ordered",value:"ordered"}),e(F,{label:"Delivered",value:"delivered"}),e(F,{label:"Cancelled",value:"cancelled"})]})}),s(N,{rowClick:"edit",children:[e(z,{source:"date",showTime:!0}),e(w,{source:"reference"}),e(g,{source:"customer_id",reference:"customers",children:e(je,{})}),e(g,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(f,{render:i=>[i.address,i.city,i.zipcode].join(", ")})}),e(f,{label:"Nb items",render:i=>{var u;return`${(u=i.basket)==null?void 0:u.length}`},textAlign:"right"}),e(o,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},Qe=()=>e(M,{title:"Orders",filters:Ge,children:e(He,{})});var Ke={list:Qe,edit:qe,options:{label:"Orders"},icon:q};function Xe(r){return!r||!r.length?r:r[0].toUpperCase()+r.slice(1)}const Ze=()=>e(he,{rowsPerPageOptions:[12,24,48]}),Je=()=>s(me,{children:[e(ge,{fields:["reference","sales","stock"]}),e(fe,{})]}),Ve=()=>s(P,{label:"Sales",icon:e(q,{}),children:[e(d,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(d,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(d,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(d,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),Ye=()=>s(P,{label:"Stock",icon:e(ke,{}),children:[e(d,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(d,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(d,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(d,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),er=()=>{const{data:r}=G("categories");return r?e(P,{label:"Categories",icon:e(Ce,{}),children:r.sort((t,n)=>t.name.localeCompare(n.name)).map(t=>e(d,{label:Xe(t.name),value:{category_id:t.id}},t.id))}):null},rr=()=>e(j,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:s(be,{children:[e(pe,{source:"q"}),e(Ve,{}),e(Ye,{}),e(er,{})]})}),tr=()=>{const{data:r}=W(),t=I(l=>l.breakpoints.down("md")),n=I(l=>l.breakpoints.down("lg"));return r?e(ve,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:t?3:n?4:6,children:r.map(l=>e(ye,{to:`/products/${l.id}`,children:s(_e,{children:[e("img",{src:l.thumbnail,alt:l.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(xe,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:l.reference,subtitle:s(R,{children:[e(f,{record:l,render:a=>`${a.width}x${a.height}, `}),e(o,{record:l,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]})},l.id))}):null},sr=()=>e(M,{title:"Posters",pagination:e(Ze,{}),actions:e(Je,{}),aside:e(rr,{}),children:e(tr,{})}),ar=()=>{const r=b();return s("span",{children:["Poster #",r?r.reference:""]})},nr=()=>{const r=b(),{data:t}=G("categories");return s(we,{children:[s(S,{label:"image",children:[e(j,{sx:{mb:2},children:e(Te,{component:"img",height:"240",image:r.image,alt:r.reference})}),e(C,{source:"image",validate:m(),sx:{width:"40em"}}),e(C,{source:"thumbnail",validate:m(),sx:{width:"40em"}})]}),s(S,{label:"details",path:"details",children:[e(C,{source:"reference",validate:m(),sx:{width:"15em"}}),e(y,{source:"price",validate:[m(),k()],sx:{width:"7em"}}),s(T,{direction:"row",children:[e(y,{source:"width",validate:[m(),k()],sx:{mr:2,width:"7em"}}),e(y,{source:"height",validate:[m(),k()],sx:{width:"7em"}})]}),e(Fe,{label:"category",source:"category_id",choices:t}),e(y,{source:"stock",validate:[m(),k()],sx:{width:"7em"}})]}),e(S,{label:"description",path:"description",children:e(Se,{source:"description",validate:m(),label:!1})})]})},ir=()=>e(U,{resource:"products",title:e(ar,{}),children:e(nr,{})});var lr={list:sr,edit:ir,options:{label:"Posters"},icon:Pe};const cr=Oe(De({serializeDate:!0}),!0);function or(){return s(Ee,{dataProvider:cr,children:[e(B,_({name:"products"},lr)),e(B,_({name:"commands"},Ke))]})}$e.render(e(Le.StrictMode,{children:e(or,{})}),document.getElementById("root"));
