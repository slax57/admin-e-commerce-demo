var re=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var L=(r,t,a)=>t in r?re(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,v=(r,t)=>{for(var a in t||(t={}))B.call(t,a)&&L(r,a,t[a]);if(w)for(var a of w(t))R.call(t,a)&&L(r,a,t[a]);return r},N=(r,t)=>te(r,se(t));var U=(r,t)=>{var a={};for(var n in r)B.call(r,n)&&t.indexOf(n)<0&&(a[n]=r[n]);if(r!=null&&w)for(var n of w(r))t.indexOf(n)<0&&R.call(r,n)&&(a[n]=r[n]);return a};import{x as f,j as e,X as d,h as q,m as ne,a as s,G as o,F as y,T as b,u as W,_ as A,l as x,E as G,N as ae,S as T,z as h,b as p,H as ie,O as le,t as D,W as H,c as oe,d as ce,e as de,f as k,g,A as ue,i as Q,k as S,n as he,y as me,o as z,p as _,q as ge,r as K,s as M,B as E,v as pe,w as O,C as X,D as Z,I as fe,J as be,K as ve,L as J,M as ye,P as xe,Q as j,R as _e,U as we,V as ke,Y as Ce,Z as I,$ as u,a0 as Pe,a1 as V,a2 as Fe,a3 as Se,a4 as Te,a5 as Oe,a6 as C,a7 as $e,a8 as c,a9 as $,aa as P,ab as Ae,ac as De,ad as Ee,ae as Ie,af as Le,ag as Be,ah as F,ai as Re,aj as Ne}from"./vendor.e8134e38.js";const Ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerpolicy&&(l.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?l.credentials="include":i.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}};Ue();const We=r=>{const t=f();return t?e(d,{options:r.options,record:{data:r.render(t)},source:"data"}):null},ze=()=>{const r=f();return s("span",{children:["Order ",r?r.reference:""]})},Me=()=>s(y,{children:[e(b,{variant:"h6",children:"Order"}),s(o,{container:!0,spacing:2,alignItems:"center",children:[e(o,{item:!0,xs:6,children:e(W,{label:"Date",children:e(A,{source:"date"})})}),e(o,{item:!0,xs:6,children:e(W,{label:"Reference",children:e(x,{source:"reference"})})}),e(o,{item:!0,xs:6,children:e(G,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(o,{item:!0,xs:6,children:e(ae,{label:"Returned",source:"returned"})})]})]}),je=()=>s(y,{children:[e(b,{variant:"h6",children:"Customer"}),s(T,{children:[e(h,{source:"customer_id",reference:"customers",children:e(p,{render:r=>`${r.first_name} ${r.last_name}`})}),e(h,{source:"customer_id",reference:"customers",children:e(ie,{source:"email"})})]})]}),qe=()=>s(y,{children:[e(b,{variant:"h6",children:"Shipping Address"}),e(h,{source:"customer_id",reference:"customers",link:!1,children:s(T,{children:[e(p,{render:r=>`${r.first_name} ${r.last_name}`}),e(x,{source:"address"}),e(p,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),Ge=()=>{const r=f();return r?e(h,{source:"product_id",reference:"products",link:!1,children:e(We,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},He=()=>s(y,{children:[e(b,{variant:"h6",children:"Items"}),e(le,{source:"basket",children:s(D,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(h,{source:"product_id",reference:"products",label:"Reference",children:e(x,{source:"reference"})}),e(h,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(d,{source:"price",options:{style:"currency",currency:"USD"}})}),e(d,{label:"Quantity",source:"quantity"}),e(H,{label:"Total",textAlign:"right",children:e(Ge,{})})]})})]}),Qe=()=>s(y,{children:[e(b,{variant:"h6",children:"Totals"}),e(oe,{children:e(ce,{children:s(de,{children:[s(k,{children:[e(g,{component:"th",scope:"row",children:"Sum"}),e(g,{align:"right",children:e(d,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),s(k,{children:[e(g,{component:"th",scope:"row",children:"Delivery"}),e(g,{align:"right",children:e(d,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),s(k,{children:[e(g,{component:"th",scope:"row",children:e(p,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(g,{align:"right",children:e(d,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),s(k,{children:[e(g,{sx:{fontWeight:"bold"},children:"Total"}),e(g,{align:"right",sx:{fontWeight:"bold"},children:e(d,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),Ke=()=>e(q,{resource:"commands",title:e(ze,{}),children:e(ne,{children:s(o,{container:!0,spacing:2,children:[e(o,{item:!0,xs:8,children:e(Me,{})}),s(o,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(o,{item:!0,children:e(je,{})}),e(o,{item:!0,children:e(qe,{})})]}),e(o,{item:!0,xs:12,children:e(He,{})}),e(o,{item:!0,xs:12,children:e(Qe,{})})]})})});function Y(){const r=f();return r?s(T,{direction:"row",spacing:2,children:[e(ue,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),s(b,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const Xe=[e(S,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(he,{source:"customer_id",label:"Customer",reference:"customers",children:e(me,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(z,{label:"Passed Since",source:"date_gte"}),e(z,{label:"Passed Before",source:"date_lte"}),e(_,{label:"Min amount",source:"total_gte"}),e(ge,{label:"Returned",source:"returned"})],Ze=()=>{const{filterValues:r,setFilters:t,displayedFilters:a}=K(),n=M.exports.useCallback((l,m)=>{const ee=N(v({},r),{status:m});t(ee,a)},[r,t,a]),i=M.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return s(y,{children:[e(E,{sx:{borderBottom:1,borderColor:"divider"},children:s(pe,{value:i(),onChange:n,variant:"fullWidth",children:[e(O,{label:"Ordered",value:"ordered"}),e(O,{label:"Delivered",value:"delivered"}),e(O,{label:"Cancelled",value:"cancelled"})]})}),s(D,{rowClick:"edit",children:[e(A,{source:"date",showTime:!0}),e(x,{source:"reference"}),e(h,{source:"customer_id",reference:"customers",children:e(Y,{})}),e(h,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(p,{render:l=>[l.address,l.city,l.zipcode].join(", ")})}),e(p,{label:"Nb items",render:l=>{var m;return`${(m=l.basket)==null?void 0:m.length}`},textAlign:"right"}),e(d,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},Je=()=>e(Q,{title:"Orders",filters:Xe,children:e(Ze,{})});var Ve={list:Je,edit:Ke,options:{label:"Orders"},icon:X};function Ye(r){return!r||!r.length?r:r[0].toUpperCase()+r.slice(1)}const er=()=>e(Z,{rowsPerPageOptions:[12,24,48]}),rr=()=>s(fe,{children:[e(be,{fields:["reference","sales","stock"]}),e(ve,{})]}),tr=()=>s(I,{label:"Sales",icon:e(X,{}),children:[e(u,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(u,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(u,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(u,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),sr=()=>s(I,{label:"Stock",icon:e(Pe,{}),children:[e(u,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(u,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(u,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(u,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),nr=()=>{const{data:r}=V("categories");return r?e(I,{label:"Categories",icon:e(Fe,{}),children:r.sort((t,a)=>t.name.localeCompare(a.name)).map(t=>e(u,{label:Ye(t.name),value:{category_id:t.id}},t.id))}):null},ar=()=>e(J,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:s(ye,{children:[e(xe,{source:"q"}),e(tr,{}),e(sr,{}),e(nr,{})]})}),ir=()=>{const{data:r}=K(),t=j(n=>n.breakpoints.down("md")),a=j(n=>n.breakpoints.down("lg"));return r?e(_e,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:t?3:a?4:6,children:r.map(n=>e(we,{to:`/products/${n.id}`,children:s(ke,{children:[e("img",{src:n.thumbnail,alt:n.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(Ce,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:n.reference,subtitle:s(H,{children:[e(p,{record:n,render:i=>`${i.width}x${i.height}, `}),e(d,{record:n,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]})},n.id))}):null},lr=()=>e(Q,{title:"Posters",pagination:e(er,{}),actions:e(rr,{}),aside:e(ar,{}),children:e(ir,{})}),or=r=>{const t=f(),l=r,{label:a,sortBy:n}=l,i=U(l,["label","sortBy"]);return!t||!t.rating?null:e(Se,v({value:t.rating,icon:e(Te,{}),sx:{color:"text.secondary"},readOnly:!0},i))},cr=r=>e(E,{component:"div",sx:{overflow:"hidden",maxWidth:"20em",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e(x,v({},r))}),dr=()=>{const r=f();return s("span",{children:["Poster #",r?r.reference:""]})},ur=()=>{const r=f(),{data:t}=V("categories");return s(Oe,{children:[s(C,{label:"image",children:[e(J,{sx:{mb:2},children:e($e,{component:"img",height:"240",image:r.image,alt:r.reference})}),e(S,{source:"image",validate:c(),sx:{width:"40em"}}),e(S,{source:"thumbnail",validate:c(),sx:{width:"40em"}})]}),s(C,{label:"details",path:"details",children:[e(S,{source:"reference",validate:c(),sx:{width:"15em"}}),e(_,{source:"price",InputProps:{startAdornment:e($,{position:"start",children:"$"})},validate:[c(),P()],sx:{width:"7em"}}),s(T,{direction:"row",children:[e(_,{source:"width",InputProps:{endAdornment:e($,{position:"start",children:"cm"})},validate:[c(),P()],sx:{mr:2,width:"7em"}}),e(_,{source:"height",InputProps:{endAdornment:e($,{position:"start",children:"cm"})},validate:[c(),P()],sx:{width:"7em"}})]}),e(G,{label:"category",source:"category_id",choices:t,validate:c(),sx:{width:"15em"}}),e(_,{source:"stock",validate:[c(),P()],sx:{width:"7em"}})]}),e(C,{label:"description",path:"description",children:e(E,{sx:{maxWidth:"640px"},children:e(Ae,{source:"description",validate:c(),label:!1})})}),e(C,{label:"reviews",path:"reviews",children:e(De,{perPage:10,reference:"reviews",target:"product_id",pagination:e(Z,{sx:{alignSelf:"end",color:"text.secondary"}}),children:s(D,{empty:e(o,{container:!0,justifyContent:"center",children:e(o,{item:!0,children:e(b,{children:"No review yet on this poster"})})}),bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},children:[e(A,{source:"date"}),e(h,{source:"customer_id",reference:"customers",children:e(Y,{})}),e(or,{label:"Rating",sortBy:"rating"}),e(cr,{source:"comment"}),e(x,{source:"status"})]})})})]})},hr=()=>e(q,{resource:"products",title:e(dr,{}),children:e(ur,{})});var mr={list:lr,edit:hr,options:{label:"Posters"},icon:Ee};const gr=Ie(Le({serializeDate:!0}),!0);function pr(){return s(Be,{dataProvider:gr,children:[e(F,v({name:"products"},mr)),e(F,v({name:"commands"},Ve)),e(F,{name:"categories"}),e(F,{name:"reviews"})]})}Re.render(e(Ne.StrictMode,{children:e(pr,{})}),document.getElementById("root"));
