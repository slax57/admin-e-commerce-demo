var pe=Object.defineProperty,fe=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var Q=(t,r,n)=>r in t?pe(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,x=(t,r)=>{for(var n in r||(r={}))K.call(r,n)&&Q(t,n,r[n]);if(O)for(var n of O(r))X.call(r,n)&&Q(t,n,r[n]);return t},Z=(t,r)=>fe(t,be(r));var J=(t,r)=>{var n={};for(var s in t)K.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&O)for(var s of O(t))r.indexOf(s)<0&&X.call(t,s)&&(n[s]=t[s]);return n};import{x as w,j as e,X as h,h as se,m as ve,a,G as c,F as $,T as g,u as V,_ as N,l as C,E as ie,N as ye,S as D,z as b,b as _,H as xe,O as _e,t as H,W as oe,c as we,d as Ce,e as ke,f as R,g as v,A as E,i as le,k as M,n as Se,y as $e,o as Y,p as A,q as Te,r as ce,s as ee,B as m,v as Pe,w as W,C as de,D as ue,I as Ae,J as De,K as Oe,L as y,M as me,P as Re,Q as te,R as Fe,U as q,V as Be,Y as Ie,Z as G,$ as f,a0 as Le,a1 as z,a2 as Ee,a3 as Me,a4 as ze,a5 as Ne,a6 as F,a7 as We,a8 as p,a9 as U,aa as B,ab as Ue,ac as je,ad as qe,ae as re,af as He,ag as k,ah as Ge,ai as Qe,aj as Ke,ak as I,al as j,am as ne,an as Xe,ao as Ze,ap as Je,aq as Ve,ar as P,as as Ye,at as et}from"./vendor.508eda31.js";const tt=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}};tt();const rt=t=>{const r=w();return r?e(h,{options:t.options,record:{data:t.render(r)},source:"data"}):null},nt=()=>{const t=w();return a("span",{children:["Order ",t?t.reference:""]})},at=()=>a($,{children:[e(g,{variant:"h6",children:"Order"}),a(c,{container:!0,spacing:2,alignItems:"center",children:[e(c,{item:!0,xs:6,children:e(V,{label:"Date",children:e(N,{source:"date"})})}),e(c,{item:!0,xs:6,children:e(V,{label:"Reference",children:e(C,{source:"reference"})})}),e(c,{item:!0,xs:6,children:e(ie,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(c,{item:!0,xs:6,children:e(ye,{label:"Returned",source:"returned"})})]})]}),st=()=>a($,{children:[e(g,{variant:"h6",children:"Customer"}),a(D,{children:[e(b,{source:"customer_id",reference:"customers",children:e(_,{render:t=>`${t.first_name} ${t.last_name}`})}),e(b,{source:"customer_id",reference:"customers",children:e(xe,{source:"email"})})]})]}),it=()=>a($,{children:[e(g,{variant:"h6",children:"Shipping Address"}),e(b,{source:"customer_id",reference:"customers",link:!1,children:a(D,{children:[e(_,{render:t=>`${t.first_name} ${t.last_name}`}),e(C,{source:"address"}),e(_,{render:t=>[t.city,t.zipcode].join(", ")})]})})]}),ot=()=>{const t=w();return t?e(b,{source:"product_id",reference:"products",link:!1,children:e(rt,{render:r=>r.price*t.quantity,options:{style:"currency",currency:"USD"}})}):null},lt=()=>a($,{children:[e(g,{variant:"h6",children:"Items"}),e(_e,{source:"basket",children:a(H,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(b,{source:"product_id",reference:"products",label:"Reference",children:e(C,{source:"reference"})}),e(b,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(h,{source:"price",options:{style:"currency",currency:"USD"}})}),e(h,{label:"Quantity",source:"quantity"}),e(oe,{label:"Total",textAlign:"right",children:e(ot,{})})]})})]}),ct=()=>a($,{children:[e(g,{variant:"h6",children:"Totals"}),e(we,{children:e(Ce,{children:a(ke,{children:[a(R,{children:[e(v,{component:"th",scope:"row",children:"Sum"}),e(v,{align:"right",children:e(h,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),a(R,{children:[e(v,{component:"th",scope:"row",children:"Delivery"}),e(v,{align:"right",children:e(h,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),a(R,{children:[e(v,{component:"th",scope:"row",children:e(_,{render:t=>`Tax (${t.tax_rate*100} %)`})}),e(v,{align:"right",children:e(h,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),a(R,{children:[e(v,{sx:{fontWeight:"bold"},children:"Total"}),e(v,{align:"right",sx:{fontWeight:"bold"},children:e(h,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),dt=()=>e(se,{resource:"commands",title:e(nt,{}),children:e(ve,{children:a(c,{container:!0,spacing:2,children:[e(c,{item:!0,xs:8,children:e(at,{})}),a(c,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(c,{item:!0,children:e(st,{})}),e(c,{item:!0,children:e(it,{})})]}),e(c,{item:!0,xs:12,children:e(lt,{})}),e(c,{item:!0,xs:12,children:e(ct,{})})]})})});function he(t){const r=w(t);return r?a(D,{direction:"row",spacing:2,children:[e(E,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),a(g,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const ut=[e(M,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(Se,{source:"customer_id",label:"Customer",reference:"customers",children:e($e,{optionText:t=>`${t.first_name} ${t.last_name}`})}),e(Y,{label:"Passed Since",source:"date_gte"}),e(Y,{label:"Passed Before",source:"date_lte"}),e(A,{label:"Min amount",source:"total_gte"}),e(Te,{label:"Returned",source:"returned"})],mt=()=>{const{filterValues:t,setFilters:r,displayedFilters:n}=ce(),s=ee.exports.useCallback((l,u)=>{const i=Z(x({},t),{status:u});r(i,n)},[t,r,n]),o=ee.exports.useCallback(()=>(t==null?void 0:t.status)||"ordered",[t]);return a($,{children:[e(m,{sx:{borderBottom:1,borderColor:"divider"},children:a(Pe,{value:o(),onChange:s,variant:"fullWidth",children:[e(W,{label:"Ordered",value:"ordered"}),e(W,{label:"Delivered",value:"delivered"}),e(W,{label:"Cancelled",value:"cancelled"})]})}),a(H,{rowClick:"edit",children:[e(N,{source:"date",showTime:!0}),e(C,{source:"reference"}),e(b,{source:"customer_id",reference:"customers",children:e(he,{})}),e(b,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(_,{render:l=>[l.address,l.city,l.zipcode].join(", ")})}),e(_,{label:"Nb items",render:l=>{var u;return`${(u=l.basket)==null?void 0:u.length}`},textAlign:"right"}),e(h,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},ht=()=>e(le,{title:"Orders",filters:ut,children:e(mt,{})});var gt={list:ht,edit:dt,options:{label:"Orders"},icon:de};function pt(t){return!t||!t.length?t:t[0].toUpperCase()+t.slice(1)}const ft=()=>e(ue,{rowsPerPageOptions:[12,24,48]}),bt=()=>a(Ae,{children:[e(De,{fields:["reference","sales","stock"]}),e(Oe,{})]}),vt=()=>a(G,{label:"Sales",icon:e(de,{}),children:[e(f,{label:"Best sellers",value:{sales_gt:25,sales_lte:void 0,sales:void 0}}),e(f,{label:"Average",value:{sales_gt:10,sales_lte:25,sales:void 0}}),e(f,{label:"Low",value:{sales_gt:0,sales_lte:10,sales:void 0}}),e(f,{label:"Never sold",value:{sales_gt:void 0,sales_lte:void 0,sales:0}})]}),yt=()=>a(G,{label:"Stock",icon:e(Le,{}),children:[e(f,{label:"Out of stock",value:{stock_gt:void 0,stock_lt:void 0,stock:0}}),e(f,{label:"1 - 9 items",value:{stock_gt:0,stock_lt:10,stock:void 0}}),e(f,{label:"10 - 49 items",value:{stock_gt:10,stock_lt:50,stock:void 0}}),e(f,{label:"50 items & more",value:{stock_gt:50,stock_lt:void 0,stock:void 0}})]}),xt=()=>{const{data:t}=z("categories");return t?e(G,{label:"Categories",icon:e(Ee,{}),children:t.sort((r,n)=>r.name.localeCompare(n.name)).map(r=>e(f,{label:pt(r.name),value:{category_id:r.id}},r.id))}):null},_t=()=>e(y,{sx:{order:-1,width:250,minWidth:250,mr:2,mt:"64px",mb:"52px"},children:a(me,{children:[e(Re,{source:"q"}),e(vt,{}),e(yt,{}),e(xt,{})]})}),wt=()=>{const{data:t}=ce(),r=te(s=>s.breakpoints.down("md")),n=te(s=>s.breakpoints.down("lg"));return t?e(Fe,{sx:{transform:"translateZ(0)",margin:0},rowHeight:180,gap:1,cols:r?3:n?4:6,children:t.map(s=>e(q,{to:`/products/${s.id}`,children:a(Be,{children:[e("img",{src:s.thumbnail,alt:s.reference,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}),e(Ie,{sx:{background:"linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, rgba(0,0,0,0) 100%)"},title:s.reference,subtitle:a(oe,{children:[e(_,{record:s,render:o=>`${o.width}x${o.height}, `}),e(h,{record:s,source:"price",options:{style:"currency",currency:"USD"}})]}),position:"bottom"})]})},s.id))}):null},Ct=()=>e(le,{title:"Posters",pagination:e(ft,{}),actions:e(bt,{}),aside:e(_t,{}),children:e(wt,{})}),ge=t=>{const r=w(t),l=t,{label:n,sortBy:s}=l,o=J(l,["label","sortBy"]);return!r||!r.rating?null:e(Me,x({value:r.rating,icon:e(ze,{}),sx:{color:"text.secondary"},readOnly:!0},o))},kt=t=>e(m,{component:"div",sx:{overflow:"hidden",maxWidth:"20em",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:e(C,x({},t))}),St=()=>{const t=w();return a("span",{children:["Poster #",t?t.reference:""]})},$t=()=>{const t=w(),{data:r}=z("categories");return a(Ne,{children:[a(F,{label:"image",children:[e(y,{sx:{mb:2},children:e(We,{component:"img",height:"240",image:t.image,alt:t.reference})}),e(M,{source:"image",validate:p(),sx:{width:"40em"}}),e(M,{source:"thumbnail",validate:p(),sx:{width:"40em"}})]}),a(F,{label:"details",path:"details",children:[e(M,{source:"reference",validate:p(),sx:{width:"15em"}}),e(A,{source:"price",InputProps:{startAdornment:e(U,{position:"start",children:"$"})},validate:[p(),B()],sx:{width:"7em"}}),a(D,{direction:"row",children:[e(A,{source:"width",InputProps:{endAdornment:e(U,{position:"start",children:"cm"})},validate:[p(),B()],sx:{mr:2,width:"7em"}}),e(A,{source:"height",InputProps:{endAdornment:e(U,{position:"start",children:"cm"})},validate:[p(),B()],sx:{width:"7em"}})]}),e(ie,{label:"category",source:"category_id",choices:r,validate:p(),sx:{width:"15em"}}),e(A,{source:"stock",validate:[p(),B()],sx:{width:"7em"}})]}),e(F,{label:"description",path:"description",children:e(m,{sx:{maxWidth:"640px"},children:e(Ue,{source:"description",validate:p(),label:!1})})}),e(F,{label:"reviews",path:"reviews",children:e(je,{perPage:10,reference:"reviews",target:"product_id",pagination:e(ue,{sx:{alignSelf:"end",color:"text.secondary"}}),children:a(H,{empty:e(c,{container:!0,justifyContent:"center",children:e(c,{item:!0,children:e(g,{children:"No review yet on this poster"})})}),bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},children:[e(N,{source:"date"}),e(b,{source:"customer_id",reference:"customers",children:e(he,{})}),e(ge,{label:"Rating",sortBy:"rating"}),e(kt,{source:"comment"}),e(C,{source:"status"})]})})})]})},Tt=()=>e(se,{resource:"products",title:e(St,{}),children:e($t,{})});var Pt={list:Ct,edit:Tt,options:{label:"Posters"},icon:qe};const L=t=>a(c,{container:!0,columns:2,spacing:2,justifyContent:"space-between",alignItems:"center",padding:2,children:[e(c,{item:!0,children:t.icon}),e(c,{item:!0,children:a(D,{children:[e(g,{variant:"subtitle1",color:"text.secondary",textAlign:"right",children:t.title}),e(g,{variant:"h5",textAlign:"right",children:t.content})]})})]}),At=t=>e(m,{component:"div",sx:{overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"},children:e(C,x({},t))}),S={minWidth:"230px"},Dt=function(t){const r=new Date;return r.setMonth(r.getMonth()-t),r},Ot=Dt(1),Rt=function(t){let r=0;return t&&(r=t.map(n=>n.total).reduce((n,s)=>n+s,0)),r},ae=t=>t.basket.reduce((r,n)=>r+n.quantity,0),Ft=new Map([["one","item"],["other","items"]]),Bt=new Intl.PluralRules,It=t=>{const r=Bt.select(ae(t)),n=Ft.get(r);return`${ae(t)} ${n}`},Lt=()=>{var l,u;const t=z("reviews",{filter:{status:"pending"},pagination:{page:1,perPage:25}}),r=re("customers",{ids:t.data&&t.data.length?t.data.map(i=>i.customer_id):[]}),n=z("commands",{filter:{date_gte:Ot.toISOString()}}),s=re("customers",{ids:n.data&&n.data.length?n.data.map(i=>i.customer_id):[]}),o=n.data?n.data.filter(i=>i.status==="ordered"):[];return e(He,{sx:{padding:2},children:a(m,{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:2,children:[e(m,{gridColumn:"span 1",children:e(y,{component:k,sx:S,children:e(L,{icon:e(Ge,{fontSize:"large",color:"secondary"}),title:"Monthly Revenue",content:`${Rt(n.data).toLocaleString()} $US`})})}),e(m,{gridColumn:"span 1",children:e(y,{component:k,sx:S,children:e(L,{icon:e(Qe,{fontSize:"large",color:"secondary"}),title:"New Orders",content:String(n.data?n.data.length:0)})})}),e(m,{gridColumn:"span 1",gridRow:"span 3",children:a(y,{component:k,sx:S,children:[e(L,{icon:e(Ke,{fontSize:"large",color:"secondary"}),title:"Pending Reviews",content:String(((l=t.data)==null?void 0:l.length)||0)}),e(I,{}),e(j,{data:t.data,resource:"reviews",primaryText:i=>e(ge,{record:i,label:"Rating",sortBy:"rating"}),secondaryText:i=>e(At,{record:i,source:"comment"}),leftAvatar:i=>{if(!r.data)return null;const d=r.data.find(T=>T.id===i.customer_id);return d?e(E,{alt:`${d.first_name} ${d.last_name}`,src:d.avatar}):null}}),e(I,{}),e(ne,{component:q,to:"/reviews",fullWidth:!0,sx:{pt:1,pb:1},children:"See All Reviews"})]})}),e(m,{gridColumn:"span 1",gridRow:"span 3",children:a(y,{component:k,sx:S,children:[e(L,{icon:e(Xe,{fontSize:"large",color:"secondary"}),title:"New Customers",content:String(((u=s.data)==null?void 0:u.length)||0)}),e(I,{}),e(j,{data:s.data,resource:"customers",primaryText:i=>`${i.first_name} ${i.last_name}`,leftAvatar:i=>e(E,{alt:`${i.first_name} ${i.last_name}`,src:i.avatar})}),e(I,{}),e(ne,{component:q,to:"/customers",fullWidth:!0,sx:{pt:1,pb:1},children:"See All Customers"})]})}),e(m,{gridColumn:"span 2",children:e(y,{component:k,sx:S,children:e(me,{children:"30 Day Revenue History"})})}),e(m,{gridColumn:"span 2",children:a(y,{component:k,sx:S,children:[e(g,{variant:"h5",padding:2,children:"Pending Orders"}),e(j,{data:o,resource:"commands",primaryText:i=>e(N,{source:"date",showTime:!0}),secondaryText:i=>{if(!s.data)return null;const d=s.data.find(T=>T.id===i.customer_id);return d?`by ${d.first_name} ${d.last_name}, ${It(i)}`:null},tertiaryText:i=>e(h,{source:"total",options:{style:"currency",currency:"USD"}}),leftAvatar:i=>{if(!s.data)return null;const d=s.data.find(T=>T.id===i.customer_id);return d?e(E,{alt:`${d.first_name} ${d.last_name}`,src:d.avatar}):null}})]})})]})})},Et=Ze(Je({serializeDate:!0}),!0);function Mt(){return a(Ve,{dataProvider:Et,dashboard:Lt,children:[e(P,x({name:"products"},Pt)),e(P,x({name:"commands"},gt)),e(P,{name:"categories"}),e(P,{name:"reviews"}),e(P,{name:"customers"})]})}Ye.render(e(et.StrictMode,{children:e(Mt,{})}),document.getElementById("root"));
