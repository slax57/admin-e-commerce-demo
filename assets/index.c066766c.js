var $=Object.defineProperty,B=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var k=(r,t,i)=>t in r?$(r,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[t]=i,g=(r,t)=>{for(var i in t||(t={}))N.call(t,i)&&k(r,i,t[i]);if(T)for(var i of T(t))R.call(t,i)&&k(r,i,t[i]);return r},w=(r,t)=>B(r,L(t));import{x as _,j as e,X as o,h as U,m as z,a as n,G as a,F as f,T as p,u as D,_ as E,l as h,E as I,N as W,S as v,z as l,b as m,H as j,O as q,t as C,W as M,c as G,d as H,e as K,f as y,g as u,A as X,i as A,k as J,n as Q,y as V,o as F,p as Y,q as Z,r as ee,s as O,B as re,v as te,w as x,C as ne,D as se,I as ce,J as S,R as ie,K as ae}from"./vendor.86e70a29.js";const oe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))b(c);new MutationObserver(c=>{for(const s of c)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&b(d)}).observe(document,{childList:!0,subtree:!0});function i(c){const s={};return c.integrity&&(s.integrity=c.integrity),c.referrerpolicy&&(s.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?s.credentials="include":c.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function b(c){if(c.ep)return;c.ep=!0;const s=i(c);fetch(c.href,s)}};oe();const le=r=>{const t=_();return t?e(o,{options:r.options,record:{data:r.render(t)},source:"data"}):null},de=()=>{const r=_();return n("span",{children:["Order ",r?r.reference:""]})},ue=()=>n(f,{children:[e(p,{variant:"h6",children:"Order"}),n(a,{container:!0,spacing:2,alignItems:"center",children:[e(a,{item:!0,xs:6,children:e(D,{label:"Date",children:e(E,{source:"date"})})}),e(a,{item:!0,xs:6,children:e(D,{label:"Reference",children:e(h,{source:"reference"})})}),e(a,{item:!0,xs:6,children:e(I,{source:"status",choices:[{id:"delivered",name:"delivered"},{id:"ordered",name:"ordered"},{id:"cancelled",name:"cancelled"}]})}),e(a,{item:!0,xs:6,children:e(W,{label:"Returned",source:"returned"})})]})]}),he=()=>n(f,{children:[e(p,{variant:"h6",children:"Customer"}),n(v,{children:[e(l,{source:"customer_id",reference:"customers",children:e(m,{render:r=>`${r.first_name} ${r.last_name}`})}),e(l,{source:"customer_id",reference:"customers",children:e(j,{source:"email"})})]})]}),me=()=>n(f,{children:[e(p,{variant:"h6",children:"Shipping Address"}),e(l,{source:"customer_id",reference:"customers",link:!1,children:n(v,{children:[e(m,{render:r=>`${r.first_name} ${r.last_name}`}),e(h,{source:"address"}),e(m,{render:r=>[r.city,r.zipcode].join(", ")})]})})]}),fe=()=>{const r=_();return r?e(l,{source:"product_id",reference:"products",link:!1,children:e(le,{render:t=>t.price*r.quantity,options:{style:"currency",currency:"USD"}})}):null},pe=()=>n(f,{children:[e(p,{variant:"h6",children:"Items"}),e(q,{source:"basket",children:n(C,{bulkActionButtons:!1,sx:{"& .RaDatagrid-headerCell":{fontWeight:"bold"},width:"100%"},size:"medium",children:[e(l,{source:"product_id",reference:"products",label:"Reference",children:e(h,{source:"reference"})}),e(l,{source:"product_id",reference:"products",label:"Unit Price",link:!1,children:e(o,{source:"price",options:{style:"currency",currency:"USD"}})}),e(o,{label:"Quantity",source:"quantity"}),e(M,{label:"Total",textAlign:"right",children:e(fe,{})})]})})]}),be=()=>n(f,{children:[e(p,{variant:"h6",children:"Totals"}),e(G,{children:e(H,{children:n(K,{children:[n(y,{children:[e(u,{component:"th",scope:"row",children:"Sum"}),e(u,{align:"right",children:e(o,{source:"total_ex_taxes",options:{style:"currency",currency:"USD"}})})]},"total_ex_taxes"),n(y,{children:[e(u,{component:"th",scope:"row",children:"Delivery"}),e(u,{align:"right",children:e(o,{source:"delivery_fees",options:{style:"currency",currency:"USD"}})})]},"delivery_fees"),n(y,{children:[e(u,{component:"th",scope:"row",children:e(m,{render:r=>`Tax (${r.tax_rate*100} %)`})}),e(u,{align:"right",children:e(o,{source:"taxes",options:{style:"currency",currency:"USD"}})})]},"taxes"),n(y,{children:[e(u,{sx:{fontWeight:"bold"},children:"Total"}),e(u,{align:"right",sx:{fontWeight:"bold"},children:e(o,{source:"total",options:{style:"currency",currency:"USD"},sx:{fontWeight:"bold"}})})]},"total")]})})})]}),ge=()=>e(U,{resource:"commands",title:e(de,{}),children:e(z,{children:n(a,{container:!0,spacing:2,children:[e(a,{item:!0,xs:8,children:e(ue,{})}),n(a,{item:!0,container:!0,xs:4,spacing:2,direction:"column",children:[e(a,{item:!0,children:e(he,{})}),e(a,{item:!0,children:e(me,{})})]}),e(a,{item:!0,xs:12,children:e(pe,{})}),e(a,{item:!0,xs:12,children:e(be,{})})]})})});function ye(){const r=_();return r?n(v,{direction:"row",spacing:2,children:[e(X,{alt:`${r.first_name} ${r.last_name}`,src:r.avatar,sx:{width:25,height:25}}),n(p,{variant:"body2",children:[r.first_name," ",r.last_name]})]}):null}const _e=[e(J,{source:"q",label:"Search",alwaysOn:!0,resettable:!0}),e(Q,{source:"customer_id",label:"Customer",reference:"customers",children:e(V,{optionText:r=>`${r.first_name} ${r.last_name}`})}),e(F,{label:"Passed Since",source:"date_gte"}),e(F,{label:"Passed Before",source:"date_lte"}),e(Y,{label:"Min amount",source:"total_gte"}),e(Z,{label:"Returned",source:"returned"})],xe=()=>{const{filterValues:r,setFilters:t,displayedFilters:i}=ee(),b=O.exports.useCallback((s,d)=>{const P=w(g({},r),{status:d});t(P,i)},[r,t,i]),c=O.exports.useCallback(()=>(r==null?void 0:r.status)||"ordered",[r]);return n(f,{children:[e(re,{sx:{borderBottom:1,borderColor:"divider"},children:n(te,{value:c(),onChange:b,variant:"fullWidth",children:[e(x,{label:"Ordered",value:"ordered"}),e(x,{label:"Delivered",value:"delivered"}),e(x,{label:"Cancelled",value:"cancelled"})]})}),n(C,{rowClick:"edit",children:[e(E,{source:"date",showTime:!0}),e(h,{source:"reference"}),e(l,{source:"customer_id",reference:"customers",children:e(ye,{})}),e(l,{source:"customer_id",reference:"customers",link:!1,label:"Address",children:e(m,{render:s=>[s.address,s.city,s.zipcode].join(", ")})}),e(m,{label:"Nb items",render:s=>{var d;return`${(d=s.basket)==null?void 0:d.length}`},textAlign:"right"}),e(o,{source:"total",options:{style:"currency",currency:"USD"}})]})]})},ve=()=>e(A,{title:"Orders",filters:_e,children:e(xe,{})});var Ce={list:ve,edit:ge,options:{label:"Orders"}};const Te=()=>e(A,{title:"Posters",children:n(C,{rowClick:"edit",children:[e(h,{source:"id"}),e(l,{source:"category_id",reference:"categories",children:e(h,{source:"id"})}),e(o,{source:"width"}),e(o,{source:"height"}),e(o,{source:"price"}),e(h,{source:"thumbnail"}),e(h,{source:"image"})]})});var ke={list:Te,options:{label:"Posters"}};const we=ne(se({serializeDate:!0}),!0);function De(){return n(ce,{dataProvider:we,children:[e(S,g({name:"products"},ke)),e(S,g({name:"commands"},Ce))]})}ie.render(e(ae.StrictMode,{children:e(De,{})}),document.getElementById("root"));
